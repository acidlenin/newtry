{"version":3,"sources":["hoc/WithAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","DialogItem","className","s","dialog","active","id","name","Message","message","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","validate","required","Dialogs","dialogsPage","dialogsElements","messages","map","d","messagesElements","posts","m","newMessageBody","dialogs","dialogItems","values","sendMessage","compose","dispatch","sendMessageCreator"],"mappings":"0NAIIA,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,KAAKD,SAIVE,EAAmB,SAACC,GAAe,IACtCC,EADqC,4JAEvC,WACI,OAAKC,KAAKC,MAAMN,OACT,kBAACG,EAAcE,KAAKC,OADI,kBAAC,IAAD,CAAUC,GAAI,eAHV,GACXC,IAAML,WAStC,OAHqCM,YAAQX,EAARW,CAAoCL,K,oBCf7EM,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,2B,oBCAhLD,EAAOC,QAAU,CAAC,QAAU,4BAA4B,YAAc,gCAAgC,OAAS,2BAA2B,SAAW,6BAA6B,QAAU,8B,oBCA5LD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,2B,wGCYjKC,EATI,SAACN,GAChB,OACI,yBAAKO,UAAWC,IAAEC,OAAS,IAAMD,IAAEE,QAC/B,kBAAC,IAAD,CAAST,GAAI,YAAcD,EAAMW,IAAKX,EAAMY,Q,kBCIzCC,EAPC,SAACb,GACb,OACI,yBAAKO,UAAWC,IAAEM,SAAUd,EAAMc,U,iCC+BpCC,EAAcC,YAAiB,IAe/BC,EAAsBC,YAAU,CAACC,KAAK,wBAAhBD,EAdJ,SAAClB,GAErB,OACI,0BAAMoB,SAAUpB,EAAMqB,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IACXZ,KAAK,iBAAiBa,YAAY,qBAClCC,SAAU,CAACC,IAAUZ,MAEhC,6BACI,oDAODa,EA5CC,SAAC5B,GAEb,IAAIP,EAAQO,EAAM6B,YACdC,EAAkBrC,EAAMsC,SAASC,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAYrB,KAAMqB,EAAErB,KAAMD,GAAIsB,EAAEtB,QAC1EuB,EAAmBzC,EAAM0C,MAAMH,KAAI,SAAAI,GAAC,OAAI,kBAAC,EAAD,CAAStB,QAASsB,EAAEtB,aAC3CrB,EAAM4C,eAS3B,OACI,yBAAK9B,UAAWC,IAAE8B,SACd,yBAAK/B,UAAWC,IAAE+B,aACbT,GAEL,yBAAKvB,UAAWC,IAAEuB,UACbG,GAEL,kBAACjB,EAAD,CAAqBG,SAfT,SAACoB,GACjBxC,EAAMyC,YAAYD,EAAOH,qB,iCCGjCK,sBAAQvC,aAdc,SAACV,GACnB,MAAO,CACHoC,YAAapC,EAAMoC,gBAGF,SAACc,GACtB,MAAO,CACHF,YAAa,SAACJ,GACVM,EAASC,YAAmBP,SAMczC,IAAtD8C,CAAwEd","file":"static/js/4.597944ea.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"}/>;\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__6Ogie\",\"dialogItems\":\"Dialogs_dialogItems__vPDXr\",\"active\":\"Dialogs_active__a-V0B\",\"messages\":\"Dialogs_messages__137Kc\",\"message\":\"Dialogs_message__3Wc2I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"DialogItem_dialogs__NALMK\",\"dialogItems\":\"DialogItem_dialogItems__crG59\",\"active\":\"DialogItem_active__hysRd\",\"messages\":\"DialogItem_messages__2fqny\",\"message\":\"DialogItem_message__29JpP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Message_dialogs__2dIOt\",\"dialogItems\":\"Message_dialogItems__xKCsj\",\"active\":\"Message_active__2a-Wx\",\"messages\":\"Message_messages__2HpYr\",\"message\":\"Message_message__igsHh\"};","import React from 'react';\r\nimport s from './DialogItem.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <NavLink to={\"/dialogs/\" + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport s from './Message.module.css';\r\n\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.message}>{props.message}</div>\r\n    )\r\n}\r\n\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../Common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../Utils/validators/validators\";\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let state = props.dialogsPage;\r\n    let dialogsElements = state.messages.map(d => <DialogItem name={d.name} id={d.id}/>);\r\n    let messagesElements = state.posts.map(m => <Message message={m.message}/>);\r\n    let newMessageBody = state.newMessageBody;\r\n\r\n    let addNewMessage = (values) => {\r\n        props.sendMessage(values.newMessageBody);\r\n    };\r\n\r\n\r\n\r\n  /*  if (!props.isAuth) return <Redirect to={\"/login\"}/>;*/\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messagesElements}\r\n            </div>\r\n            <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n        </div>\r\n    )\r\n}\r\nconst maxLength50 = maxLengthCreator(50);\r\nconst AddMessageForm  = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea}\r\n                       name=\"newMessageBody\" placeholder=\"Enter your message\"\r\n                       validate={[required, maxLength50]}/>\r\n            </div>\r\n            <div>\r\n                <button>New message</button>\r\n            </div>\r\n        </form>)\r\n}\r\nconst AddMessageFormRedux = reduxForm({form:\"dialogAddMessageForm\"})(AddMessageForm);\r\n\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {sendMessageCreator} from \"../../Redux/dialogs-reducer\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageCreator(newMessageBody));\r\n        },\r\n    }\r\n}\r\n\r\nexport default\r\ncompose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs);\r\n"],"sourceRoot":""}